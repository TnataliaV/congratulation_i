<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ!</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <h1 id="greeting"></h1>
    <img src="img/–∫—Ä—É–∂–æ–∫.jpg" alt="–¢–≤–æ—ë —Ñ–æ—Ç–æ" class="photo" id="photo">
    <button id="playMusicBtn">‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
    <p class="message" id="message"></p>
    <button class="secret-btn" id="secretBtn">üå∏ –ù–∞–∂–º–∏! üå∏</button>
  </div>
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ -->
  <div id="videoModal">
    <div class="modal-content">
      <span id="closeVideo">&times;</span>
      <video id="memeVideo" controls>
        <source src="img/–≤–∏–¥–µ–æ.mp4" type="video/mp4">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
      </video>
    </div>
  </div>

  <audio id="bgMusic" loop>
    <source src="audio/–ú–∞—Ä–∏ aka –ö—Ä–∞–π–º–±—Ä–µ—Ä–∏ - Happy Birthday, Girl (pesni.fm).mp3" type="audio/mpeg">
  </audio>

  <script>
    // === –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ===
    const name = "–ò—Ä–∞"; // ‚Üê –ø–æ–º–µ–Ω—è–π –Ω–∞ –Ω—É–∂–Ω–æ–µ –∏–º—è
    const messageText = `–î–æ—Ä–æ–≥–∞—è ${name}! üéâ\n\n–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è! –ñ–µ–ª–∞—é –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –æ—Ç–ª–∏—á–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, —É—Å–ø–µ—Ö–æ–≤ –≤–æ –≤—Å—ë–º –∏ –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤. \n\n–ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –¥–æ–±—Ä—ã–µ –∏ –≤–µ—Ä–Ω—ã–µ –ª—é–¥–∏, –∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ö–æ—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è. –û—Ç –≤—Å–µ–≥–æ —Å–µ—Ä–¥—Ü–∞ ‚Äî –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –ª—É—á—à–µ–≥–æ! üíñ\n\n`;

    // === –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∏ —Ç–µ–∫—Å—Ç–∞ ===
    function typeWriter(element, text, speed = 50) {
      let i = 0;
      element.textContent = '';
      const lines = text.split('\n');
      let currentLine = 0;

      function typeLine() {
        if (currentLine < lines.length) {
          if (i < lines[currentLine].length) {
            element.textContent += lines[currentLine][i];
            i++;
            setTimeout(typeLine, speed);
          } else {
            element.textContent += '\n';
            i = 0;
            currentLine++;
            setTimeout(typeLine, speed + 100); // –ø–∞—É–∑–∞ –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏
          }
        }
      }
      typeLine();
    }

    // === DOM –ó–∞–≥—Ä—É–∑–∫–∞ ===
    document.addEventListener('DOMContentLoaded', () => {
      const greeting = document.getElementById('greeting');
      const message = document.getElementById('message');
      const bgMusic = document.getElementById('bgMusic');
      const playMusicBtn = document.getElementById('playMusicBtn');

      const container = document.querySelector('.container');
      const videoModal = document.getElementById('videoModal');
      const memeVideo = document.getElementById('memeVideo');
      const closeVideo = document.getElementById('closeVideo');
      const secretBtn = document.getElementById('secretBtn');

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è
      greeting.textContent = `–ü—Ä–∏–≤–µ—Ç, ${name}!`;

      // –ú–µ–Ω—è–µ–º —Ñ–æ—Ç–æ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ ‚Äî –ø–æ–¥—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É)
      // photo.src = photoUrl;

      // –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∏
      typeWriter(message, messageText);

      // === –ú—É–∑—ã–∫–∞: –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª–∏–∫—É ===
      bgMusic.volume = 0.2; // —Ç–∏—Ö–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å

      // –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Äî –≤–∫–ª—é—á–∞–µ–º –º—É–∑—ã–∫—É
      playMusicBtn.addEventListener('click', () => {
        bgMusic.play()
          .then(() => {
            console.log("–ú—É–∑—ã–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞!");
            playMusicBtn.style.display = 'none'; // –ø—Ä—è—á–µ–º –∫–Ω–æ–ø–∫—É
          })
          .catch(e => {
            alert("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É. –ù–∞–∂–º–∏ –µ—â—ë —Ä–∞–∑.");
            console.error("–û—à–∏–±–∫–∞:", e);
          });
      });

      // === –°–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ ===
      secretBtn.addEventListener('click', () => {
        videoModal.style.display = 'flex'; // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        memeVideo.play();
        container.style.display = 'none'; // —Å–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
        secretBtn.textContent = "–°–ø—Ä—è—á—å –≤–∏–¥–µ–æ! üíû";
      });

      // === –ö—Ä–µ—Å—Ç–∏–∫: –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ ===
      closeVideo.addEventListener('click', () => {
        videoModal.style.display = 'none'; // —Å–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        memeVideo.pause();
        memeVideo.currentTime = 0; // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –≤–∏–¥–µ–æ
        container.style.display = 'block'; // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
        secretBtn.textContent = "üå∏ –ù–∞–∂–º–∏! üå∏";
      });

      // === –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ===
      // videoModal.addEventListener('click', (e) => {
      //   if (e.target === videoModal) {
      //     closeVideo.click(); // –∫–∞–∫ –±—É–¥—Ç–æ –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
      //   }
      // });
    });
  </script>

</body>

</html>